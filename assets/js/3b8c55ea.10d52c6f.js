"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[803],{7248(e,s,n){n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"installation","title":"Installation","description":"Get started with mcp-ts in your JavaScript or TypeScript project.","source":"@site/docs/installation.md","sourceDirName":".","slug":"/installation","permalink":"/mcp-ts/docs/installation","draft":false,"unlisted":false,"editUrl":"https://github.com/ashen-dusk/mcp-redis/tree/main/docs/docs/installation.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started","permalink":"/mcp-ts/docs/"},"next":{"title":"Next.js Integration","permalink":"/mcp-ts/docs/nextjs"}}');var r=n(4848),t=n(8453);const l={sidebar_position:2},o="Installation",d={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Install the Package",id:"install-the-package",level:2},{value:"Configure Storage Backend",id:"configure-storage-backend",level:2},{value:"Option 1: Redis (Production)",id:"-option-1-redis-production",level:3},{value:"Local Redis Setup",id:"local-redis-setup",level:4},{value:"Cloud Redis Providers",id:"cloud-redis-providers",level:4},{value:"Environment Configuration",id:"environment-configuration",level:4},{value:"Option 2: File System (Development)",id:"-option-2-file-system-development",level:3},{value:"Option 3: In-Memory (Testing)",id:"-option-3-in-memory-testing",level:3},{value:"PostgreSQL (Coming Soon)",id:"-postgresql-coming-soon",level:3},{value:"Storage Selection Logic",id:"storage-selection-logic",level:2},{value:"Verify Installation",id:"verify-installation",level:2},{value:"TypeScript Configuration",id:"typescript-configuration",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Storage Backend Issues",id:"storage-backend-issues",level:3},{value:"Module Resolution Errors",id:"module-resolution-errors",level:3}];function a(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"installation",children:"Installation"})}),"\n",(0,r.jsx)(s.p,{children:"Get started with mcp-ts in your JavaScript or TypeScript project."}),"\n",(0,r.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(s.p,{children:"Before installing, ensure you have:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Node.js 18+"})," - ",(0,r.jsx)(s.a,{href:"https://nodejs.org/",children:"Download Node.js"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Package manager"})," - npm, yarn, or pnpm"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Storage Backend"})," (optional, defaults to in-memory):","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)("img",{src:"/img/redis.svg",alt:"Redis",width:"16",height:"16",style:{display:"inline",verticalAlign:"middle"}})," ",(0,r.jsx)(s.strong,{children:"Redis"})," - For production (",(0,r.jsx)(s.a,{href:"https://redis.com/try-free/",children:"Redis Cloud"}),", ",(0,r.jsx)(s.a,{href:"https://upstash.com/",children:"Upstash"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)("img",{src:"/img/filesystem.svg",alt:"File System",width:"16",height:"16",style:{display:"inline",verticalAlign:"middle"}})," ",(0,r.jsx)(s.strong,{children:"File System"})," - Built-in, no setup required"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)("img",{src:"/img/memory.svg",alt:"Memory",width:"16",height:"16",style:{display:"inline",verticalAlign:"middle"}})," ",(0,r.jsx)(s.strong,{children:"In-Memory"})," - Built-in, default option"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)("img",{src:"/img/postgres.svg",alt:"PostgreSQL",width:"16",height:"16",style:{display:"inline",verticalAlign:"middle"}})," ",(0,r.jsx)(s.strong,{children:"PostgreSQL"})," - Coming soon!"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"install-the-package",children:"Install the Package"}),"\n",(0,r.jsx)(s.p,{children:"Choose your preferred package manager:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",metastring:"npm2yarn",children:"npm install @mcp-ts/redis\n"})}),"\n",(0,r.jsx)(s.h2,{id:"configure-storage-backend",children:"Configure Storage Backend"}),"\n",(0,r.jsx)(s.p,{children:"The library automatically selects a storage backend based on your environment variables. Choose the option that best fits your needs:"}),"\n",(0,r.jsxs)(s.h3,{id:"-option-1-redis-production",children:[(0,r.jsx)("img",{src:"/img/redis.svg",alt:"Redis",width:"20",height:"20",style:{display:"inline",verticalAlign:"middle"}})," Option 1: Redis (Production)"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Recommended for production and serverless deployments."})}),"\n",(0,r.jsx)(s.h4,{id:"local-redis-setup",children:"Local Redis Setup"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# macOS (Homebrew)\nbrew install redis\nbrew services start redis\n\n# Ubuntu/Debian\nsudo apt-get install redis-server\nsudo systemctl start redis\n\n# Windows (WSL or Docker)\ndocker run -d -p 6379:6379 redis:latest\n"})}),"\n",(0,r.jsx)(s.h4,{id:"cloud-redis-providers",children:"Cloud Redis Providers"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.a,{href:"https://upstash.com/",children:"Upstash"})})," - Serverless Redis (recommended for Vercel/serverless)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.a,{href:"https://redis.com/try-free/",children:"Redis Cloud"})})," - Managed Redis by Redis Labs"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.a,{href:"https://aws.amazon.com/elasticache/",children:"AWS ElastiCache"})})," - Amazon's Redis service"]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"environment-configuration",children:"Environment Configuration"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Explicit selection (optional)\nMCP_TS_STORAGE_TYPE=redis\n\n# Redis connection URL (required)\nREDIS_URL=redis://localhost:6379\n\n# Or for cloud Redis (Upstash example)\nREDIS_URL=rediss://default:your-password@your-host.upstash.io:6379\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"-option-2-file-system-development",children:[(0,r.jsx)("img",{src:"/img/filesystem.svg",alt:"File System",width:"20",height:"20",style:{display:"inline",verticalAlign:"middle"}})," Option 2: File System (Development)"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Perfect for local development with persistent sessions across restarts."})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Explicit selection (optional)\nMCP_TS_STORAGE_TYPE=file\n\n# File path for session storage (required)\nMCP_TS_STORAGE_FILE=./sessions.json\n"})}),"\n",(0,r.jsx)(s.p,{children:"Sessions are stored as JSON in the specified file. The directory is created automatically if it doesn't exist."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"-option-3-in-memory-testing",children:[(0,r.jsx)("img",{src:"/img/memory.svg",alt:"Memory",width:"20",height:"20",style:{display:"inline",verticalAlign:"middle"}})," Option 3: In-Memory (Testing)"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Fast ephemeral storage, ideal for testing. Sessions are lost on restart."})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Explicit selection (optional)\nMCP_TS_STORAGE_TYPE=memory\n"})}),"\n",(0,r.jsxs)(s.p,{children:["This is the ",(0,r.jsx)(s.strong,{children:"default"})," if no storage configuration is provided."]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.h3,{id:"-postgresql-coming-soon",children:[(0,r.jsx)("img",{src:"/img/postgres.svg",alt:"PostgreSQL",width:"20",height:"20",style:{display:"inline",verticalAlign:"middle"}})," PostgreSQL (Coming Soon)"]}),"\n",(0,r.jsx)(s.p,{children:"PostgreSQL support is planned for a future release."}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"storage-selection-logic",children:"Storage Selection Logic"}),"\n",(0,r.jsx)(s.p,{children:"The library uses the following priority:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Explicit"}),": If ",(0,r.jsx)(s.code,{children:"MCP_TS_STORAGE_TYPE"})," is set, use that backend"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Auto-detect Redis"}),": If ",(0,r.jsx)(s.code,{children:"REDIS_URL"})," is present, use Redis"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Auto-detect File"}),": If ",(0,r.jsx)(s.code,{children:"MCP_TS_STORAGE_FILE"})," is present, use File"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Default"}),": Fall back to In-Memory storage"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"verify-installation",children:"Verify Installation"}),"\n",(0,r.jsx)(s.p,{children:"Test your setup with a simple script:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"// test-mcp.ts\nimport { storage } from '@mcp-ts/redis/server';\n\nasync function test() {\n  const sessionId = storage.generateSessionId();\n  console.log('Generated session ID:', sessionId);\n\n  // Test storage backend\n  await storage.createSession({\n    sessionId,\n    identity: 'test-user',\n    serverId: 'test-server',\n    serverName: 'Test Server',\n    serverUrl: 'https://example.com',\n    callbackUrl: 'https://example.com/callback',\n    transportType: 'sse',\n    active: true,\n    createdAt: Date.now(),\n  });\n\n  const session = await storage.getSession('test-user', sessionId);\n  console.log('\u2713 Storage backend working!', session?.serverName);\n}\n\ntest();\n"})}),"\n",(0,r.jsx)(s.p,{children:"Run the test:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"tsx test-mcp.ts\n# or\nts-node test-mcp.ts\n"})}),"\n",(0,r.jsx)(s.h2,{id:"typescript-configuration",children:"TypeScript Configuration"}),"\n",(0,r.jsxs)(s.p,{children:["If using TypeScript, ensure your ",(0,r.jsx)(s.code,{children:"tsconfig.json"})," includes:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "moduleResolution": "bundler", // or "node16"\n    "esModuleInterop": true,\n    "skipLibCheck": true\n  }\n}\n'})}),"\n",(0,r.jsx)(s.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/mcp-ts/docs/storage-backends",children:"Storage Backends"})," - Detailed backend comparison"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/mcp-ts/docs/nextjs",children:"Next.js Integration"})," - Set up with Next.js"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/mcp-ts/docs/react-hook",children:"React Hook"})," - Use the React hook"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"/mcp-ts/docs/api-reference",children:"API Reference"})," - Explore the API"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(s.h3,{id:"storage-backend-issues",children:"Storage Backend Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": ",(0,r.jsx)(s.code,{children:"Error: Redis connection failed"})]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"})," (Redis):"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Verify Redis is running: ",(0,r.jsx)(s.code,{children:"redis-cli ping"})," (should return ",(0,r.jsx)(s.code,{children:"PONG"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:["Check ",(0,r.jsx)(s.code,{children:"REDIS_URL"})," environment variable is set correctly"]}),"\n",(0,r.jsx)(s.li,{children:"Ensure firewall allows port 6379"}),"\n",(0,r.jsx)(s.li,{children:"For cloud Redis, verify credentials and SSL settings"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": File storage not persisting"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"})," (File):"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Verify ",(0,r.jsx)(s.code,{children:"MCP_TS_STORAGE_FILE"})," path is writable"]}),"\n",(0,r.jsx)(s.li,{children:"Check directory permissions"}),"\n",(0,r.jsx)(s.li,{children:"Ensure the parent directory exists (it should be created automatically)"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": Sessions lost on restart"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"If using in-memory storage (default), this is expected behavior"}),"\n",(0,r.jsx)(s.li,{children:"Switch to Redis or File storage for persistence"}),"\n",(0,r.jsxs)(s.li,{children:["Set ",(0,r.jsx)(s.code,{children:"MCP_TS_STORAGE_TYPE=file"})," or configure ",(0,r.jsx)(s.code,{children:"REDIS_URL"})]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"module-resolution-errors",children:"Module Resolution Errors"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": ",(0,r.jsx)(s.code,{children:"Cannot find module '@mcp-ts/redis/server'"})]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Clear node_modules: ",(0,r.jsx)(s.code,{children:"rm -rf node_modules && npm install"})]}),"\n",(0,r.jsx)(s.li,{children:"Check TypeScript configuration"}),"\n",(0,r.jsxs)(s.li,{children:["Update to latest version: ",(0,r.jsx)(s.code,{children:"npm update @mcp-ts/redis"})]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453(e,s,n){n.d(s,{R:()=>l,x:()=>o});var i=n(6540);const r={},t=i.createContext(r);function l(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);